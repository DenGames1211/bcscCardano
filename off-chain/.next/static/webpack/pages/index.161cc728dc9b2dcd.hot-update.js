"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "(pages-dir-browser)/./src/utils/lucid.ts":
/*!****************************!*\
  !*** ./src/utils/lucid.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SCRIPT_ADDRESS: () => (/* binding */ SCRIPT_ADDRESS),\n/* harmony export */   deployBetContract: () => (/* binding */ deployBetContract),\n/* harmony export */   encodeDatum: () => (/* binding */ encodeDatum),\n/* harmony export */   encodeRedeemer: () => (/* binding */ encodeRedeemer),\n/* harmony export */   getScriptUtxos: () => (/* binding */ getScriptUtxos),\n/* harmony export */   initLucid: () => (/* binding */ initLucid),\n/* harmony export */   joinBet: () => (/* binding */ joinBet),\n/* harmony export */   timeoutBet: () => (/* binding */ timeoutBet),\n/* harmony export */   winBet: () => (/* binding */ winBet)\n/* harmony export */ });\n/* harmony import */ var lucid_cardano__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lucid-cardano */ \"(pages-dir-browser)/./node_modules/lucid-cardano/esm/mod.js\");\n/* harmony import */ var _scripts_bet_plutus_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/scripts/bet.plutus.json */ \"(pages-dir-browser)/./src/scripts/bet.plutus.json\");\n/* harmony import */ var _scripts_bet_plutus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/scripts/bet.plutus */ \"(pages-dir-browser)/./src/scripts/bet.plutus.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([lucid_cardano__WEBPACK_IMPORTED_MODULE_0__]);\nlucid_cardano__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n // JSON compilato\n\nlet lucidInstance;\nlet validatorAddress;\n// Configura il provider Blockfrost\nconst BLOCKFROST_URL = \"https://cardano-preview.blockfrost.io/api/v0\" || 0;\nconst BLOCKFROST_KEY = \"preview3G3NLFawCSyrtNMZb06OfRknAxZgy1fb\";\n// Indirizzo del tuo script Aiken (derivato dal Plutus script hash)\nconst SCRIPT_ADDRESS = \"addr_test1wrar992kj6gjcyczxd9gr302unaw7m09p3jrfvwwucuy6ccz5fklc\";\n// Costruisci un oggetto Script leggendo dal JSON\nconst validatorScript = {\n    type: _scripts_bet_plutus_json__WEBPACK_IMPORTED_MODULE_1__.type,\n    script: _scripts_bet_plutus_json__WEBPACK_IMPORTED_MODULE_1__.cborHex\n};\n/** Bech32 → payment key hash (hex string senza 0x) */ function getHashHexFromAddress(addr) {\n    var _details_paymentCredential;\n    const details = lucidInstance.utils.getAddressDetails(addr);\n    const hash = (_details_paymentCredential = details.paymentCredential) === null || _details_paymentCredential === void 0 ? void 0 : _details_paymentCredential.hash;\n    if (!hash) throw new Error('Impossibile estrarre paymentCredential.hash');\n    return hash.replace(/^0x/, '');\n}\nfunction encodeDatum(d) {\n    // 1) Estrai gli hash in hex (56 char) da ogni Bech32\n    const oracleHex = getHashHexFromAddress(d.oracle);\n    const p1Hex = getHashHexFromAddress(d.player_1);\n    const p2Hex = getHashHexFromAddress(d.player_2);\n    const isJoined = d.isJoined ? {\n        index: 1,\n        fields: []\n    } : {\n        index: 0,\n        fields: []\n    }; // False\n    // 2) Costruisci l'oggetto conforme al JSON-schema\n    const shaped = {\n        oracle: oracleHex,\n        wager: d.wager,\n        player_1: p1Hex,\n        player_2: p2Hex,\n        deadline: d.deadline,\n        isJoined: isJoined\n    };\n    console.groupCollapsed('🔎 isolating shape');\n    console.groupCollapsed('🔍 Isolating bad field');\n    for (const [key, value] of Object.entries(shaped)){\n        try {\n            console.log(\"→ Testing Data.to on \".concat(key, \":\"), value);\n            lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.to(value);\n            console.log(\"   ✔ \".concat(key, \" serialized successfully\"));\n        } catch (err) {\n            console.error(\"   ❌ \".concat(key, \" FAILED:\"), err);\n        }\n    }\n    console.groupEnd();\n    // 3) Serializza col JSON-schema Aiken\n    return lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.to(shaped, _scripts_bet_plutus__WEBPACK_IMPORTED_MODULE_2__.BetBetSpend.datum);\n}\n/** serializza il tuo redeemer (Join, Win, Timeout) */ function encodeRedeemer(r) {\n    return lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.to(r, _scripts_bet_plutus__WEBPACK_IMPORTED_MODULE_2__.BetBetSpend.redeemer);\n}\n/**\n * Inizializza Lucid e wallet (solo browser).\n */ async function initLucid() {\n    if (!lucidInstance) {\n        const provider = new lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Blockfrost(BLOCKFROST_URL, BLOCKFROST_KEY);\n        lucidInstance = await lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Lucid.new(provider, 'Preview');\n        if ( true && window.cardano) {\n            // Trova il wallet Lace o Nami compatibile\n            const wallet = window.cardano.lace || window.cardano.nami || Object.values(window.cardano).find((w)=>w.name === 'Nami' || w.name === 'Lace');\n            if (!wallet) throw new Error('Wallet compatibile non trovato');\n            const api = await wallet.enable();\n            validatorAddress = lucidInstance.utils.validatorToAddress(validatorScript);\n            lucidInstance.selectWallet(api);\n        }\n    }\n    return lucidInstance;\n}\n/**\n * Recupera tutti gli UTxO dal tuo script address.\n */ async function getScriptUtxos() {\n    const lucid = await initLucid();\n    return lucid.utxosAt(validatorAddress);\n}\nconst Listing = lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.Object({\n    owner: lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.Bytes(),\n    amount: lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.Integer(),\n    private: lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.Boolean()\n});\n/**\n * Costruisce e invia una transazione che spende/aggiorna l'UTxO sullo script.\n */ async function buildAndSubmit(datum, redeemer) {\n    const lucid = await initLucid();\n    const utxos = await lucid.utxosAt(validatorAddress);\n    const utxo = utxos.find((u)=>{\n        const d = u.datum;\n        return d && d.oracle === datum.oracle && d.deadline === datum.deadline;\n    });\n    if (!utxo) throw new Error('UTxO della scommessa non trovato');\n    const newDatum = encodeDatum(datum);\n    const tx = await lucid.newTx().attachSpendingValidator(validatorScript).collectFrom([\n        utxo\n    ], encodeRedeemer(redeemer)).payToContract(validatorAddress, encodeDatum(datum), {\n        lovelace: datum.wager * 2n\n    }).complete();\n}\n// -------------------------\n// AZIONI SUL VALIDATOR BET\n// -------------------------\n/** Join: constructor index 0 */ async function joinBet(d) {\n    const redeemer = {\n        Join: {\n            wager: d.wager\n        }\n    };\n    // buildAndSubmit ora deve accettare la stringa serializzata\n    return buildAndSubmit({\n        ...d,\n        isJoined: true\n    }, redeemer);\n}\n/** Win: constructor index 1 */ async function winBet(d, winner) {\n    const redeemer = {\n        Win: {\n            winner\n        }\n    };\n    return buildAndSubmit(d, redeemer);\n}\n/** Timeout: constructor index 2 */ async function timeoutBet(d) {\n    const redeemer = \"Timeout\";\n    return buildAndSubmit(d, redeemer);\n}\n/**\n * Deploy: crea un UTxO iniziale presso lo script con il datum iniziale.\n * @param d BetDatum iniziale\n * @param initialAda quantità di lovelace da inviare (default 2 ADA)\n */ async function deployBetContract(d) {\n    let initialAda = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2000000n;\n    const lucid = await initLucid();\n    console.log(d);\n    const tx = await lucid.newTx().attachSpendingValidator(validatorScript).payToContract(validatorAddress, encodeDatum(d), {\n        lovelace: initialAda\n    }).complete();\n    const signed = await tx.sign().complete();\n    return signed.submit();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1icm93c2VyKS8uL3NyYy91dGlscy9sdWNpZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0Y7QUFDNUIsQ0FBQyxpQkFBaUI7QUFDckI7QUFHbkQsSUFBSUs7QUFDSixJQUFJQztBQUVKLG1DQUFtQztBQUNuQyxNQUFNQyxpQkFBaUJDLDhDQUE4QyxJQUFJLENBQThDO0FBQ3ZILE1BQU1HLGlCQUFpQkgseUNBQXNDO0FBRTdELG1FQUFtRTtBQUM1RCxNQUFNSyxpQkFBaUJMLGlFQUFzQyxDQUFFO0FBRXRFLGlEQUFpRDtBQUNqRCxNQUFNTyxrQkFBMEI7SUFDOUJDLE1BQU1iLDBEQUFrQjtJQUN4QmMsUUFBUWQsNkRBQXFCO0FBQy9CO0FBRUEsb0RBQW9ELEdBQ3BELFNBQVNnQixzQkFBc0JDLElBQVk7UUFFNUJDO0lBRGIsTUFBTUEsVUFBVWhCLGNBQWNpQixLQUFLLENBQUNDLGlCQUFpQixDQUFDSDtJQUN0RCxNQUFNSSxRQUFPSCw2QkFBQUEsUUFBUUksaUJBQWlCLGNBQXpCSixpREFBQUEsMkJBQTJCRyxJQUFJO0lBQzVDLElBQUksQ0FBQ0EsTUFBTSxNQUFNLElBQUlFLE1BQU07SUFDM0IsT0FBT0YsS0FBS0csT0FBTyxDQUFDLE9BQU87QUFDN0I7QUFFTyxTQUFTQyxZQUFZQyxDQUFXO0lBQ3JDLHFEQUFxRDtJQUNyRCxNQUFNQyxZQUFZWCxzQkFBc0JVLEVBQUVFLE1BQU07SUFDaEQsTUFBTUMsUUFBV2Isc0JBQXNCVSxFQUFFSSxRQUFRO0lBQ2pELE1BQU1DLFFBQVdmLHNCQUFzQlUsRUFBRU0sUUFBUTtJQUNqRCxNQUFNQyxXQUFXUCxFQUFFTyxRQUFRLEdBQzNCO1FBQUVDLE9BQU87UUFBR0MsUUFBUSxFQUFFO0lBQUMsSUFDdkI7UUFBRUQsT0FBTztRQUFHQyxRQUFRLEVBQUU7SUFBQyxHQUFJLFFBQVE7SUFFbkMsa0RBQWtEO0lBQ2xELE1BQU1DLFNBQVM7UUFDYlIsUUFBVUQ7UUFDVlUsT0FBVVgsRUFBRVcsS0FBSztRQUNqQlAsVUFBVUQ7UUFDVkcsVUFBVUQ7UUFDVk8sVUFBVVosRUFBRVksUUFBUTtRQUNwQkwsVUFBVUE7SUFDWjtJQUVBTSxRQUFRQyxjQUFjLENBQUM7SUFDdkJELFFBQVFDLGNBQWMsQ0FBQztJQUN2QixLQUFLLE1BQU0sQ0FBQ0MsS0FBS0MsTUFBTSxJQUFJQyxPQUFPQyxPQUFPLENBQUNSLFFBQVM7UUFDakQsSUFBSTtZQUNGRyxRQUFRTSxHQUFHLENBQUMsd0JBQTRCLE9BQUpKLEtBQUksTUFBSUM7WUFDNUMzQywrQ0FBSUEsQ0FBQytDLEVBQUUsQ0FBQ0o7WUFDUkgsUUFBUU0sR0FBRyxDQUFDLFFBQVksT0FBSkosS0FBSTtRQUMxQixFQUFFLE9BQU9NLEtBQUs7WUFDWlIsUUFBUVMsS0FBSyxDQUFDLFFBQVksT0FBSlAsS0FBSSxhQUFXTTtRQUN2QztJQUNGO0lBQ0FSLFFBQVFVLFFBQVE7SUFFaEIsc0NBQXNDO0lBQ3RDLE9BQU9sRCwrQ0FBSUEsQ0FBQytDLEVBQUUsQ0FBQ1YsUUFBUW5DLDREQUFXQSxDQUFDaUQsS0FBSztBQUMxQztBQUVBLG9EQUFvRCxHQUM3QyxTQUFTQyxlQUFlQyxDQUFjO0lBQzNDLE9BQU9yRCwrQ0FBSUEsQ0FBQytDLEVBQUUsQ0FBQ00sR0FBR25ELDREQUFXQSxDQUFDb0QsUUFBUTtBQUN4QztBQUVBOztDQUVDLEdBQ00sZUFBZUM7SUFDcEIsSUFBSSxDQUFDcEQsZUFBZTtRQUNsQixNQUFNcUQsV0FBVyxJQUFJekQscURBQVVBLENBQUNNLGdCQUFnQkk7UUFDaEROLGdCQUFnQixNQUFNTCxnREFBS0EsQ0FBQzJELEdBQUcsQ0FBQ0QsVUFBVTtRQUMxQyxJQUFJLEtBQTZCLElBQUlFLE9BQU9DLE9BQU8sRUFBRTtZQUNuRCwwQ0FBMEM7WUFDMUMsTUFBTUMsU0FBU0YsT0FBT0MsT0FBTyxDQUFDRSxJQUFJLElBQUlILE9BQU9DLE9BQU8sQ0FBQ0csSUFBSSxJQUFJbEIsT0FBT21CLE1BQU0sQ0FBQ0wsT0FBT0MsT0FBTyxFQUFFSyxJQUFJLENBQUMsQ0FBQ0MsSUFBV0EsRUFBRUMsSUFBSSxLQUFLLFVBQVVELEVBQUVDLElBQUksS0FBSztZQUU1SSxJQUFJLENBQUNOLFFBQVEsTUFBTSxJQUFJcEMsTUFBTTtZQUU3QixNQUFNMkMsTUFBTSxNQUFNUCxPQUFPUSxNQUFNO1lBRS9CaEUsbUJBQW1CRCxjQUFjaUIsS0FBSyxDQUFDaUQsa0JBQWtCLENBQ3ZEeEQ7WUFFRlYsY0FBY21FLFlBQVksQ0FBQ0g7UUFDN0I7SUFDRjtJQUNBLE9BQU9oRTtBQUNUO0FBRUE7O0NBRUMsR0FDTSxlQUFlb0U7SUFDcEIsTUFBTUMsUUFBUSxNQUFNakI7SUFDcEIsT0FBT2lCLE1BQU1DLE9BQU8sQ0FBQ3JFO0FBQ3ZCO0FBRUEsTUFBTXNFLFVBQVUxRSwrQ0FBSUEsQ0FBQzRDLE1BQU0sQ0FBQztJQUMxQitCLE9BQU8zRSwrQ0FBSUEsQ0FBQzRFLEtBQUs7SUFDakJDLFFBQVE3RSwrQ0FBSUEsQ0FBQzhFLE9BQU87SUFDcEJDLFNBQVMvRSwrQ0FBSUEsQ0FBQ2dGLE9BQU87QUFDdkI7QUFHQTs7Q0FFQyxHQUNELGVBQWVDLGVBQ2I5QixLQUFlLEVBQ2ZHLFFBQXFCO0lBRXJCLE1BQU1rQixRQUFRLE1BQU1qQjtJQUNwQixNQUFNMkIsUUFBUSxNQUFNVixNQUFNQyxPQUFPLENBQUNyRTtJQUNsQyxNQUFNK0UsT0FBT0QsTUFBTWxCLElBQUksQ0FBQ29CLENBQUFBO1FBQ3RCLE1BQU16RCxJQUFJeUQsRUFBRWpDLEtBQUs7UUFDakIsT0FBT3hCLEtBQUtBLEVBQUVFLE1BQU0sS0FBS3NCLE1BQU10QixNQUFNLElBQUlGLEVBQUVZLFFBQVEsS0FBS1ksTUFBTVosUUFBUTtJQUN4RTtJQUNBLElBQUksQ0FBQzRDLE1BQU0sTUFBTSxJQUFJM0QsTUFBTTtJQUUzQixNQUFNNkQsV0FBVzNELFlBQVl5QjtJQUM3QixNQUFNbUMsS0FBSyxNQUFNZCxNQUNoQmUsS0FBSyxHQUNMQyx1QkFBdUIsQ0FBQzNFLGlCQUN4QjRFLFdBQVcsQ0FBQztRQUFDTjtLQUFLLEVBQUUvQixlQUFlRSxXQUNuQ29DLGFBQWEsQ0FDWnRGLGtCQUNBc0IsWUFBWXlCLFFBQ1o7UUFBRXdDLFVBQVV4QyxNQUFNYixLQUFLLEdBQUcsRUFBRTtJQUFDLEdBRTlCc0QsUUFBUTtBQUNYO0FBRUEsNEJBQTRCO0FBQzVCLDJCQUEyQjtBQUMzQiw0QkFBNEI7QUFFNUIsOEJBQThCLEdBQ3ZCLGVBQWVDLFFBQVFsRSxDQUFXO0lBQ3ZDLE1BQU0yQixXQUF3QjtRQUFFd0MsTUFBTTtZQUFFeEQsT0FBT1gsRUFBRVcsS0FBSztRQUFDO0lBQUU7SUFDekQsNERBQTREO0lBQzVELE9BQU8yQyxlQUFlO1FBQUUsR0FBR3RELENBQUM7UUFBRU8sVUFBVTtJQUFLLEdBQUdvQjtBQUNsRDtBQUVBLDZCQUE2QixHQUN0QixlQUFleUMsT0FBT3BFLENBQVcsRUFBRXFFLE1BQWM7SUFDdEQsTUFBTTFDLFdBQXdCO1FBQUUyQyxLQUFLO1lBQUVEO1FBQU87SUFBRTtJQUNoRCxPQUFPZixlQUFldEQsR0FBRzJCO0FBQzNCO0FBRUEsaUNBQWlDLEdBQzFCLGVBQWU0QyxXQUFXdkUsQ0FBVztJQUMxQyxNQUFNMkIsV0FBd0I7SUFDOUIsT0FBTzJCLGVBQWV0RCxHQUFHMkI7QUFDM0I7QUFFQTs7OztDQUlDLEdBQ00sZUFBZTZDLGtCQUFrQnhFLENBQVc7UUFBRXlFLGFBQUFBLGlFQUFhLFFBQVU7SUFDMUUsTUFBTTVCLFFBQVEsTUFBTWpCO0lBQ3BCZixRQUFRTSxHQUFHLENBQUNuQjtJQUVaLE1BQU0yRCxLQUFLLE1BQU1kLE1BQ2RlLEtBQUssR0FDTEMsdUJBQXVCLENBQUMzRSxpQkFDeEI2RSxhQUFhLENBQ1p0RixrQkFDQXNCLFlBQVlDLElBQ1o7UUFBRWdFLFVBQVVTO0lBQVcsR0FFeEJSLFFBQVE7SUFFWCxNQUFNUyxTQUFTLE1BQU1mLEdBQUdnQixJQUFJLEdBQUdWLFFBQVE7SUFDdkMsT0FBT1MsT0FBT0UsTUFBTTtBQUN0QiIsInNvdXJjZXMiOlsiL2hvbWUvZGVuL0JDU0NQcm9qZWN0L29mZi1jaGFpbi9zcmMvdXRpbHMvbHVjaWQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTHVjaWQsIEJsb2NrZnJvc3QsIERhdGEsIFNjcmlwdCwgZnJvbUhleCwgQWRkcmVzcyB9IGZyb20gJ2x1Y2lkLWNhcmRhbm8nO1xuaW1wb3J0IGJldFNjcmlwdEpzb24gZnJvbSAnQC9zY3JpcHRzL2JldC5wbHV0dXMuanNvbic7IC8vIEpTT04gY29tcGlsYXRvXG5pbXBvcnQgeyBCZXRCZXRTcGVuZCB9IGZyb20gXCJAL3NjcmlwdHMvYmV0LnBsdXR1c1wiO1xuaW1wb3J0IHR5cGUgeyBCZXREYXR1bSwgQmV0UmVkZWVtZXIgfSBmcm9tICdAL3NjcmlwdHMvYmV0LnBsdXR1cyc7XG5cbmxldCBsdWNpZEluc3RhbmNlOiBMdWNpZDtcbmxldCB2YWxpZGF0b3JBZGRyZXNzOiBBZGRyZXNzO1xuXG4vLyBDb25maWd1cmEgaWwgcHJvdmlkZXIgQmxvY2tmcm9zdFxuY29uc3QgQkxPQ0tGUk9TVF9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CTE9DS0ZST1NUX05FVFdPUktfVVJMIHx8ICdodHRwczovL2NhcmRhbm8tcHJldmlldy5ibG9ja2Zyb3N0LmlvL2FwaS92MCc7XG5jb25zdCBCTE9DS0ZST1NUX0tFWSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0JMT0NLRlJPU1RfS0VZITtcblxuLy8gSW5kaXJpenpvIGRlbCB0dW8gc2NyaXB0IEFpa2VuIChkZXJpdmF0byBkYWwgUGx1dHVzIHNjcmlwdCBoYXNoKVxuZXhwb3J0IGNvbnN0IFNDUklQVF9BRERSRVNTID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0NSSVBUX0FERFJFU1MhO1xuXG4vLyBDb3N0cnVpc2NpIHVuIG9nZ2V0dG8gU2NyaXB0IGxlZ2dlbmRvIGRhbCBKU09OXG5jb25zdCB2YWxpZGF0b3JTY3JpcHQ6IFNjcmlwdCA9IHtcbiAgdHlwZTogYmV0U2NyaXB0SnNvbi50eXBlIGFzIFNjcmlwdFsndHlwZSddLFxuICBzY3JpcHQ6IGJldFNjcmlwdEpzb24uY2JvckhleFxufTtcblxuLyoqIEJlY2gzMiDihpIgcGF5bWVudCBrZXkgaGFzaCAoaGV4IHN0cmluZyBzZW56YSAweCkgKi9cbmZ1bmN0aW9uIGdldEhhc2hIZXhGcm9tQWRkcmVzcyhhZGRyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBkZXRhaWxzID0gbHVjaWRJbnN0YW5jZS51dGlscy5nZXRBZGRyZXNzRGV0YWlscyhhZGRyKTtcbiAgY29uc3QgaGFzaCA9IGRldGFpbHMucGF5bWVudENyZWRlbnRpYWw/Lmhhc2g7XG4gIGlmICghaGFzaCkgdGhyb3cgbmV3IEVycm9yKCdJbXBvc3NpYmlsZSBlc3RyYXJyZSBwYXltZW50Q3JlZGVudGlhbC5oYXNoJyk7XG4gIHJldHVybiBoYXNoLnJlcGxhY2UoL14weC8sICcnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZURhdHVtKGQ6IEJldERhdHVtKTogc3RyaW5nIHtcbiAgLy8gMSkgRXN0cmFpIGdsaSBoYXNoIGluIGhleCAoNTYgY2hhcikgZGEgb2duaSBCZWNoMzJcbiAgY29uc3Qgb3JhY2xlSGV4ID0gZ2V0SGFzaEhleEZyb21BZGRyZXNzKGQub3JhY2xlKTtcbiAgY29uc3QgcDFIZXggICAgPSBnZXRIYXNoSGV4RnJvbUFkZHJlc3MoZC5wbGF5ZXJfMSk7XG4gIGNvbnN0IHAySGV4ICAgID0gZ2V0SGFzaEhleEZyb21BZGRyZXNzKGQucGxheWVyXzIpO1xuICBjb25zdCBpc0pvaW5lZCA9IGQuaXNKb2luZWQgPyBcbiAgeyBpbmRleDogMSwgZmllbGRzOiBbXSB9IDogLy8gVHJ1ZVxuICB7IGluZGV4OiAwLCBmaWVsZHM6IFtdIH07ICAvLyBGYWxzZVxuXG4gIC8vIDIpIENvc3RydWlzY2kgbCdvZ2dldHRvIGNvbmZvcm1lIGFsIEpTT04tc2NoZW1hXG4gIGNvbnN0IHNoYXBlZCA9IHtcbiAgICBvcmFjbGU6ICAgb3JhY2xlSGV4LFxuICAgIHdhZ2VyOiAgICBkLndhZ2VyLFxuICAgIHBsYXllcl8xOiBwMUhleCxcbiAgICBwbGF5ZXJfMjogcDJIZXgsXG4gICAgZGVhZGxpbmU6IGQuZGVhZGxpbmUsXG4gICAgaXNKb2luZWQ6IGlzSm9pbmVkXG4gIH0gYXMgYW55O1xuXG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoJ/CflI4gaXNvbGF0aW5nIHNoYXBlJyk7XG4gIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoJ/CflI0gSXNvbGF0aW5nIGJhZCBmaWVsZCcpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzaGFwZWQpKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGDihpIgVGVzdGluZyBEYXRhLnRvIG9uICR7a2V5fTpgLCB2YWx1ZSk7XG4gICAgICBEYXRhLnRvKHZhbHVlIGFzIGFueSk7XG4gICAgICBjb25zb2xlLmxvZyhgICAg4pyUICR7a2V5fSBzZXJpYWxpemVkIHN1Y2Nlc3NmdWxseWApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihgICAg4p2MICR7a2V5fSBGQUlMRUQ6YCwgZXJyKTtcbiAgICB9XG4gIH1cbiAgY29uc29sZS5ncm91cEVuZCgpO1xuXG4gIC8vIDMpIFNlcmlhbGl6emEgY29sIEpTT04tc2NoZW1hIEFpa2VuXG4gIHJldHVybiBEYXRhLnRvKHNoYXBlZCwgQmV0QmV0U3BlbmQuZGF0dW0pO1xufVxuXG4vKiogc2VyaWFsaXp6YSBpbCB0dW8gcmVkZWVtZXIgKEpvaW4sIFdpbiwgVGltZW91dCkgKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVSZWRlZW1lcihyOiBCZXRSZWRlZW1lcik6IHN0cmluZyB7XG4gIHJldHVybiBEYXRhLnRvKHIsIEJldEJldFNwZW5kLnJlZGVlbWVyKTtcbn1cblxuLyoqXG4gKiBJbml6aWFsaXp6YSBMdWNpZCBlIHdhbGxldCAoc29sbyBicm93c2VyKS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRMdWNpZCgpOiBQcm9taXNlPEx1Y2lkPiB7XG4gIGlmICghbHVjaWRJbnN0YW5jZSkge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gbmV3IEJsb2NrZnJvc3QoQkxPQ0tGUk9TVF9VUkwsIEJMT0NLRlJPU1RfS0VZKTtcbiAgICBsdWNpZEluc3RhbmNlID0gYXdhaXQgTHVjaWQubmV3KHByb3ZpZGVyLCAnUHJldmlldycpO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY2FyZGFubykge1xuICAgICAgLy8gVHJvdmEgaWwgd2FsbGV0IExhY2UgbyBOYW1pIGNvbXBhdGliaWxlXG4gICAgICBjb25zdCB3YWxsZXQgPSB3aW5kb3cuY2FyZGFuby5sYWNlIHx8IHdpbmRvdy5jYXJkYW5vLm5hbWkgfHwgT2JqZWN0LnZhbHVlcyh3aW5kb3cuY2FyZGFubykuZmluZCgodzogYW55KSA9PiB3Lm5hbWUgPT09ICdOYW1pJyB8fCB3Lm5hbWUgPT09ICdMYWNlJyk7XG4gICAgICBcbiAgICAgIGlmICghd2FsbGV0KSB0aHJvdyBuZXcgRXJyb3IoJ1dhbGxldCBjb21wYXRpYmlsZSBub24gdHJvdmF0bycpO1xuXG4gICAgICBjb25zdCBhcGkgPSBhd2FpdCB3YWxsZXQuZW5hYmxlKCk7XG5cbiAgICAgIHZhbGlkYXRvckFkZHJlc3MgPSBsdWNpZEluc3RhbmNlLnV0aWxzLnZhbGlkYXRvclRvQWRkcmVzcyhcbiAgICAgICAgdmFsaWRhdG9yU2NyaXB0LFxuICAgICAgKTtcbiAgICAgIGx1Y2lkSW5zdGFuY2Uuc2VsZWN0V2FsbGV0KGFwaSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBsdWNpZEluc3RhbmNlO1xufVxuXG4vKipcbiAqIFJlY3VwZXJhIHR1dHRpIGdsaSBVVHhPIGRhbCB0dW8gc2NyaXB0IGFkZHJlc3MuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTY3JpcHRVdHhvcygpIHtcbiAgY29uc3QgbHVjaWQgPSBhd2FpdCBpbml0THVjaWQoKTtcbiAgcmV0dXJuIGx1Y2lkLnV0eG9zQXQodmFsaWRhdG9yQWRkcmVzcyk7XG59XG5cbmNvbnN0IExpc3RpbmcgPSBEYXRhLk9iamVjdCh7XG4gIG93bmVyOiBEYXRhLkJ5dGVzKCksXG4gIGFtb3VudDogRGF0YS5JbnRlZ2VyKCksXG4gIHByaXZhdGU6IERhdGEuQm9vbGVhbigpLFxufSk7XG50eXBlIExpc3RpbmcgPSB0eXBlb2YgTGlzdGluZztcblxuLyoqXG4gKiBDb3N0cnVpc2NlIGUgaW52aWEgdW5hIHRyYW5zYXppb25lIGNoZSBzcGVuZGUvYWdnaW9ybmEgbCdVVHhPIHN1bGxvIHNjcmlwdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gYnVpbGRBbmRTdWJtaXQoXG4gIGRhdHVtOiBCZXREYXR1bSxcbiAgcmVkZWVtZXI6IEJldFJlZGVlbWVyXG4pIHtcbiAgY29uc3QgbHVjaWQgPSBhd2FpdCBpbml0THVjaWQoKTtcbiAgY29uc3QgdXR4b3MgPSBhd2FpdCBsdWNpZC51dHhvc0F0KHZhbGlkYXRvckFkZHJlc3MpO1xuICBjb25zdCB1dHhvID0gdXR4b3MuZmluZCh1ID0+IHtcbiAgICBjb25zdCBkID0gdS5kYXR1bSBhcyBCZXREYXR1bSB8IG51bGw7XG4gICAgcmV0dXJuIGQgJiYgZC5vcmFjbGUgPT09IGRhdHVtLm9yYWNsZSAmJiBkLmRlYWRsaW5lID09PSBkYXR1bS5kZWFkbGluZTtcbiAgfSk7XG4gIGlmICghdXR4bykgdGhyb3cgbmV3IEVycm9yKCdVVHhPIGRlbGxhIHNjb21tZXNzYSBub24gdHJvdmF0bycpO1xuXG4gIGNvbnN0IG5ld0RhdHVtID0gZW5jb2RlRGF0dW0oZGF0dW0pO1xuICBjb25zdCB0eCA9IGF3YWl0IGx1Y2lkXG4gIC5uZXdUeCgpXG4gIC5hdHRhY2hTcGVuZGluZ1ZhbGlkYXRvcih2YWxpZGF0b3JTY3JpcHQpXG4gIC5jb2xsZWN0RnJvbShbdXR4b10sIGVuY29kZVJlZGVlbWVyKHJlZGVlbWVyKSlcbiAgLnBheVRvQ29udHJhY3QoXG4gICAgdmFsaWRhdG9yQWRkcmVzcyxcbiAgICBlbmNvZGVEYXR1bShkYXR1bSksXG4gICAgeyBsb3ZlbGFjZTogZGF0dW0ud2FnZXIgKiAybiB9XG4gIClcbiAgLmNvbXBsZXRlKCk7XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFaSU9OSSBTVUwgVkFMSURBVE9SIEJFVFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKiogSm9pbjogY29uc3RydWN0b3IgaW5kZXggMCAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGpvaW5CZXQoZDogQmV0RGF0dW0pIHtcbiAgY29uc3QgcmVkZWVtZXI6IEJldFJlZGVlbWVyID0geyBKb2luOiB7IHdhZ2VyOiBkLndhZ2VyIH0gfTtcbiAgLy8gYnVpbGRBbmRTdWJtaXQgb3JhIGRldmUgYWNjZXR0YXJlIGxhIHN0cmluZ2Egc2VyaWFsaXp6YXRhXG4gIHJldHVybiBidWlsZEFuZFN1Ym1pdCh7IC4uLmQsIGlzSm9pbmVkOiB0cnVlIH0sIHJlZGVlbWVyKTtcbn1cblxuLyoqIFdpbjogY29uc3RydWN0b3IgaW5kZXggMSAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdpbkJldChkOiBCZXREYXR1bSwgd2lubmVyOiBzdHJpbmcpIHtcbiAgY29uc3QgcmVkZWVtZXI6IEJldFJlZGVlbWVyID0geyBXaW46IHsgd2lubmVyIH0gfTtcbiAgcmV0dXJuIGJ1aWxkQW5kU3VibWl0KGQsIHJlZGVlbWVyKTtcbn1cblxuLyoqIFRpbWVvdXQ6IGNvbnN0cnVjdG9yIGluZGV4IDIgKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0aW1lb3V0QmV0KGQ6IEJldERhdHVtKSB7XG4gIGNvbnN0IHJlZGVlbWVyOiBCZXRSZWRlZW1lciA9IFwiVGltZW91dFwiO1xuICByZXR1cm4gYnVpbGRBbmRTdWJtaXQoZCwgcmVkZWVtZXIpO1xufVxuXG4vKipcbiAqIERlcGxveTogY3JlYSB1biBVVHhPIGluaXppYWxlIHByZXNzbyBsbyBzY3JpcHQgY29uIGlsIGRhdHVtIGluaXppYWxlLlxuICogQHBhcmFtIGQgQmV0RGF0dW0gaW5pemlhbGVcbiAqIEBwYXJhbSBpbml0aWFsQWRhIHF1YW50aXTDoCBkaSBsb3ZlbGFjZSBkYSBpbnZpYXJlIChkZWZhdWx0IDIgQURBKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVwbG95QmV0Q29udHJhY3QoZDogQmV0RGF0dW0sIGluaXRpYWxBZGEgPSAyXzAwMF8wMDBuKSB7XG4gIGNvbnN0IGx1Y2lkID0gYXdhaXQgaW5pdEx1Y2lkKCk7XG4gIGNvbnNvbGUubG9nKGQpO1xuXG4gIGNvbnN0IHR4ID0gYXdhaXQgbHVjaWRcbiAgICAubmV3VHgoKVxuICAgIC5hdHRhY2hTcGVuZGluZ1ZhbGlkYXRvcih2YWxpZGF0b3JTY3JpcHQpXG4gICAgLnBheVRvQ29udHJhY3QoXG4gICAgICB2YWxpZGF0b3JBZGRyZXNzLFxuICAgICAgZW5jb2RlRGF0dW0oZCksXG4gICAgICB7IGxvdmVsYWNlOiBpbml0aWFsQWRhIH1cbiAgICApXG4gICAgLmNvbXBsZXRlKCk7XG5cbiAgY29uc3Qgc2lnbmVkID0gYXdhaXQgdHguc2lnbigpLmNvbXBsZXRlKCk7XG4gIHJldHVybiBzaWduZWQuc3VibWl0KCk7XG59XG5cblxuIl0sIm5hbWVzIjpbIkx1Y2lkIiwiQmxvY2tmcm9zdCIsIkRhdGEiLCJiZXRTY3JpcHRKc29uIiwiQmV0QmV0U3BlbmQiLCJsdWNpZEluc3RhbmNlIiwidmFsaWRhdG9yQWRkcmVzcyIsIkJMT0NLRlJPU1RfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0JMT0NLRlJPU1RfTkVUV09SS19VUkwiLCJCTE9DS0ZST1NUX0tFWSIsIk5FWFRfUFVCTElDX0JMT0NLRlJPU1RfS0VZIiwiU0NSSVBUX0FERFJFU1MiLCJORVhUX1BVQkxJQ19TQ1JJUFRfQUREUkVTUyIsInZhbGlkYXRvclNjcmlwdCIsInR5cGUiLCJzY3JpcHQiLCJjYm9ySGV4IiwiZ2V0SGFzaEhleEZyb21BZGRyZXNzIiwiYWRkciIsImRldGFpbHMiLCJ1dGlscyIsImdldEFkZHJlc3NEZXRhaWxzIiwiaGFzaCIsInBheW1lbnRDcmVkZW50aWFsIiwiRXJyb3IiLCJyZXBsYWNlIiwiZW5jb2RlRGF0dW0iLCJkIiwib3JhY2xlSGV4Iiwib3JhY2xlIiwicDFIZXgiLCJwbGF5ZXJfMSIsInAySGV4IiwicGxheWVyXzIiLCJpc0pvaW5lZCIsImluZGV4IiwiZmllbGRzIiwic2hhcGVkIiwid2FnZXIiLCJkZWFkbGluZSIsImNvbnNvbGUiLCJncm91cENvbGxhcHNlZCIsImtleSIsInZhbHVlIiwiT2JqZWN0IiwiZW50cmllcyIsImxvZyIsInRvIiwiZXJyIiwiZXJyb3IiLCJncm91cEVuZCIsImRhdHVtIiwiZW5jb2RlUmVkZWVtZXIiLCJyIiwicmVkZWVtZXIiLCJpbml0THVjaWQiLCJwcm92aWRlciIsIm5ldyIsIndpbmRvdyIsImNhcmRhbm8iLCJ3YWxsZXQiLCJsYWNlIiwibmFtaSIsInZhbHVlcyIsImZpbmQiLCJ3IiwibmFtZSIsImFwaSIsImVuYWJsZSIsInZhbGlkYXRvclRvQWRkcmVzcyIsInNlbGVjdFdhbGxldCIsImdldFNjcmlwdFV0eG9zIiwibHVjaWQiLCJ1dHhvc0F0IiwiTGlzdGluZyIsIm93bmVyIiwiQnl0ZXMiLCJhbW91bnQiLCJJbnRlZ2VyIiwicHJpdmF0ZSIsIkJvb2xlYW4iLCJidWlsZEFuZFN1Ym1pdCIsInV0eG9zIiwidXR4byIsInUiLCJuZXdEYXR1bSIsInR4IiwibmV3VHgiLCJhdHRhY2hTcGVuZGluZ1ZhbGlkYXRvciIsImNvbGxlY3RGcm9tIiwicGF5VG9Db250cmFjdCIsImxvdmVsYWNlIiwiY29tcGxldGUiLCJqb2luQmV0IiwiSm9pbiIsIndpbkJldCIsIndpbm5lciIsIldpbiIsInRpbWVvdXRCZXQiLCJkZXBsb3lCZXRDb250cmFjdCIsImluaXRpYWxBZGEiLCJzaWduZWQiLCJzaWduIiwic3VibWl0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/utils/lucid.ts\n"));

/***/ })

});