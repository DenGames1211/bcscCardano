"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "(pages-dir-browser)/./src/utils/lucid.ts":
/*!****************************!*\
  !*** ./src/utils/lucid.ts ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SCRIPT_ADDRESS: () => (/* binding */ SCRIPT_ADDRESS),\n/* harmony export */   deployBetContract: () => (/* binding */ deployBetContract),\n/* harmony export */   encodeDatum: () => (/* binding */ encodeDatum),\n/* harmony export */   encodeRedeemer: () => (/* binding */ encodeRedeemer),\n/* harmony export */   getScriptUtxos: () => (/* binding */ getScriptUtxos),\n/* harmony export */   initLucid: () => (/* binding */ initLucid),\n/* harmony export */   joinBet: () => (/* binding */ joinBet),\n/* harmony export */   timeoutBet: () => (/* binding */ timeoutBet),\n/* harmony export */   winBet: () => (/* binding */ winBet)\n/* harmony export */ });\n/* harmony import */ var lucid_cardano__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lucid-cardano */ \"(pages-dir-browser)/./node_modules/lucid-cardano/esm/mod.js\");\n/* harmony import */ var _scripts_bet_plutus_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/scripts/bet.plutus.json */ \"(pages-dir-browser)/./src/scripts/bet.plutus.json\");\n/* harmony import */ var _scripts_bet_plutus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/scripts/bet.plutus */ \"(pages-dir-browser)/./src/scripts/bet.plutus.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([lucid_cardano__WEBPACK_IMPORTED_MODULE_0__]);\nlucid_cardano__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n // JSON compilato\n\nlet lucidInstance;\nlet validatorAddress;\n// Configura il provider Blockfrost\nconst BLOCKFROST_URL = \"https://cardano-preview.blockfrost.io/api/v0\" || 0;\nconst BLOCKFROST_KEY = \"preview3G3NLFawCSyrtNMZb06OfRknAxZgy1fb\";\n// Indirizzo del tuo script Aiken (derivato dal Plutus script hash)\nconst SCRIPT_ADDRESS = \"addr_test1wrar992kj6gjcyczxd9gr302unaw7m09p3jrfvwwucuy6ccz5fklc\";\n// Costruisci un oggetto Script leggendo dal JSON\nconst validatorScript = {\n    type: _scripts_bet_plutus_json__WEBPACK_IMPORTED_MODULE_1__.type,\n    script: _scripts_bet_plutus_json__WEBPACK_IMPORTED_MODULE_1__.cborHex\n};\nfunction addressToBytes(address) {\n    var _details_paymentCredential;\n    const details = lucidInstance.utils.getAddressDetails(address);\n    const hashHex = (_details_paymentCredential = details.paymentCredential) === null || _details_paymentCredential === void 0 ? void 0 : _details_paymentCredential.hash;\n    if (!hashHex) {\n        throw new Error('Impossibile ottenere paymentCredential.hash da ' + address);\n    }\n    const clean = hashHex.startsWith('0x') ? hashHex.slice(2) : hashHex;\n    return (0,lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.fromHex)(clean);\n}\n/** Serializza il Datum usando lo schema generato da Aiken */ function encodeDatum(d) {\n    const boolConstr = {\n        index: d.isJoined ? 1 : 0,\n        fields: []\n    };\n    const shaped = {\n        oracle: addressToBytes(d.oracle),\n        wager: d.wager,\n        player_1: addressToBytes(d.player_1),\n        player_2: addressToBytes(d.player_2),\n        deadline: d.deadline,\n        isJoined: boolConstr\n    };\n    // 3) Serializza ciascun campo singolarmente\n    console.group('ðŸ” Debug Data.to campo per campo');\n    for (const [key, value] of Object.entries(shaped)){\n        try {\n            // Schema minimal per questo solo campo:\n            const schema = {\n                title: key,\n                dataType: key === 'oracle' || key.startsWith('player_') ? 'bytes' : key === 'wager' || key === 'deadline' ? 'integer' : 'constructor'\n            };\n            console.log(\" â†’ test serializzazione \".concat(key, \":\"), value);\n            lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.to(value, schema);\n            console.log(\"   âœ”ï¸  \".concat(key, \" OK\"));\n        } catch (err) {\n            console.error(\"   âŒ  errore su \".concat(key, \":\"), err);\n        }\n    }\n    console.groupEnd();\n    // 4) Prova infine il vero datum\n    return lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.to(shaped, _scripts_bet_plutus__WEBPACK_IMPORTED_MODULE_2__.BetBetSpend.datum);\n}\n/** serializza il tuo redeemer (Join, Win, Timeout) */ function encodeRedeemer(r) {\n    return lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.to(r, _scripts_bet_plutus__WEBPACK_IMPORTED_MODULE_2__.BetBetSpend.redeemer);\n}\n/**\n * Inizializza Lucid e wallet (solo browser).\n */ async function initLucid() {\n    if (!lucidInstance) {\n        const provider = new lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Blockfrost(BLOCKFROST_URL, BLOCKFROST_KEY);\n        lucidInstance = await lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Lucid.new(provider, 'Preview');\n        if ( true && window.cardano) {\n            // Trova il wallet Lace o Nami compatibile\n            const wallet = window.cardano.lace || window.cardano.nami || Object.values(window.cardano).find((w)=>w.name === 'Nami' || w.name === 'Lace');\n            if (!wallet) throw new Error('Wallet compatibile non trovato');\n            const api = await wallet.enable();\n            validatorAddress = lucidInstance.utils.validatorToAddress(validatorScript);\n            lucidInstance.selectWallet(api);\n        }\n    }\n    return lucidInstance;\n}\n/**\n * Recupera tutti gli UTxO dal tuo script address.\n */ async function getScriptUtxos() {\n    const lucid = await initLucid();\n    return lucid.utxosAt(validatorAddress);\n}\nconst Listing = lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.Object({\n    owner: lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.Bytes(),\n    amount: lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.Integer(),\n    private: lucid_cardano__WEBPACK_IMPORTED_MODULE_0__.Data.Boolean()\n});\n/**\n * Costruisce e invia una transazione che spende/aggiorna l'UTxO sullo script.\n */ async function buildAndSubmit(datum, redeemer) {\n    const lucid = await initLucid();\n    const utxos = await lucid.utxosAt(validatorAddress);\n    const utxo = utxos.find((u)=>{\n        const d = u.datum;\n        return d && d.oracle === datum.oracle && d.deadline === datum.deadline;\n    });\n    if (!utxo) throw new Error('UTxO della scommessa non trovato');\n    const newDatum = encodeDatum(datum);\n    const tx = await lucid.newTx().attachSpendingValidator(validatorScript).collectFrom([\n        utxo\n    ], encodeRedeemer(redeemer)).payToContract(validatorAddress, encodeDatum(datum), {\n        lovelace: datum.wager * 2n\n    }).complete();\n}\n// -------------------------\n// AZIONI SUL VALIDATOR BET\n// -------------------------\n/** Join: constructor index 0 */ async function joinBet(d) {\n    const redeemer = {\n        Join: {\n            wager: d.wager\n        }\n    };\n    // buildAndSubmit ora deve accettare la stringa serializzata\n    return buildAndSubmit({\n        ...d,\n        isJoined: true\n    }, redeemer);\n}\n/** Win: constructor index 1 */ async function winBet(d, winner) {\n    const redeemer = {\n        Win: {\n            winner\n        }\n    };\n    return buildAndSubmit(d, redeemer);\n}\n/** Timeout: constructor index 2 */ async function timeoutBet(d) {\n    const redeemer = \"Timeout\";\n    return buildAndSubmit(d, redeemer);\n}\n/**\n * Deploy: crea un UTxO iniziale presso lo script con il datum iniziale.\n * @param d BetDatum iniziale\n * @param initialAda quantitÃ  di lovelace da inviare (default 2 ADA)\n */ async function deployBetContract(d) {\n    let initialAda = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2000000n;\n    const lucid = await initLucid();\n    console.log(d);\n    const tx = await lucid.newTx().attachSpendingValidator(validatorScript).payToContract(validatorAddress, encodeDatum(d), {\n        lovelace: initialAda\n    }).complete();\n    const signed = await tx.sign().complete();\n    return signed.submit();\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZDLE9BQU9TLE9BQU9FLE1BQU07QUFDdEIiLCJzb3VyY2VzIjpbIi9ob21lL2Rlbi9CQ1NDUHJvamVjdC9vZmYtY2hhaW4vc3JjL3V0aWxzL2x1Y2lkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEx1Y2lkLCBCbG9ja2Zyb3N0LCBEYXRhLCBTY3JpcHQsIGZyb21IZXgsIEFkZHJlc3MgfSBmcm9tICdsdWNpZC1jYXJkYW5vJztcbmltcG9ydCBiZXRTY3JpcHRKc29uIGZyb20gJ0Avc2NyaXB0cy9iZXQucGx1dHVzLmpzb24nOyAvLyBKU09OIGNvbXBpbGF0b1xuaW1wb3J0IHsgQmV0QmV0U3BlbmQgfSBmcm9tIFwiQC9zY3JpcHRzL2JldC5wbHV0dXNcIjtcbmltcG9ydCB0eXBlIHsgQmV0RGF0dW0sIEJldFJlZGVlbWVyIH0gZnJvbSAnQC9zY3JpcHRzL2JldC5wbHV0dXMnO1xuXG5sZXQgbHVjaWRJbnN0YW5jZTogTHVjaWQ7XG5sZXQgdmFsaWRhdG9yQWRkcmVzczogQWRkcmVzcztcblxuLy8gQ29uZmlndXJhIGlsIHByb3ZpZGVyIEJsb2NrZnJvc3RcbmNvbnN0IEJMT0NLRlJPU1RfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQkxPQ0tGUk9TVF9ORVRXT1JLX1VSTCB8fCAnaHR0cHM6Ly9jYXJkYW5vLXByZXZpZXcuYmxvY2tmcm9zdC5pby9hcGkvdjAnO1xuY29uc3QgQkxPQ0tGUk9TVF9LRVkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19CTE9DS0ZST1NUX0tFWSE7XG5cbi8vIEluZGlyaXp6byBkZWwgdHVvIHNjcmlwdCBBaWtlbiAoZGVyaXZhdG8gZGFsIFBsdXR1cyBzY3JpcHQgaGFzaClcbmV4cG9ydCBjb25zdCBTQ1JJUFRfQUREUkVTUyA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NDUklQVF9BRERSRVNTITtcblxuLy8gQ29zdHJ1aXNjaSB1biBvZ2dldHRvIFNjcmlwdCBsZWdnZW5kbyBkYWwgSlNPTlxuY29uc3QgdmFsaWRhdG9yU2NyaXB0OiBTY3JpcHQgPSB7XG4gIHR5cGU6IGJldFNjcmlwdEpzb24udHlwZSBhcyBTY3JpcHRbJ3R5cGUnXSxcbiAgc2NyaXB0OiBiZXRTY3JpcHRKc29uLmNib3JIZXhcbn07XG5cbmZ1bmN0aW9uIGFkZHJlc3NUb0J5dGVzKGFkZHJlc3M6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBkZXRhaWxzID0gbHVjaWRJbnN0YW5jZS51dGlscy5nZXRBZGRyZXNzRGV0YWlscyhhZGRyZXNzKTtcbiAgY29uc3QgaGFzaEhleCA9IGRldGFpbHMucGF5bWVudENyZWRlbnRpYWw/Lmhhc2g7XG4gIGlmICghaGFzaEhleCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW1wb3NzaWJpbGUgb3R0ZW5lcmUgcGF5bWVudENyZWRlbnRpYWwuaGFzaCBkYSAnICsgYWRkcmVzcyk7XG4gIH1cbiAgY29uc3QgY2xlYW4gPSBoYXNoSGV4LnN0YXJ0c1dpdGgoJzB4JykgPyBoYXNoSGV4LnNsaWNlKDIpIDogaGFzaEhleDtcbiAgcmV0dXJuIGZyb21IZXgoY2xlYW4pO1xufVxuXG4vKiogU2VyaWFsaXp6YSBpbCBEYXR1bSB1c2FuZG8gbG8gc2NoZW1hIGdlbmVyYXRvIGRhIEFpa2VuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlRGF0dW0oZDogQmV0RGF0dW0pOiBzdHJpbmcge1xuICBjb25zdCBib29sQ29uc3RyID0ge1xuICAgIGluZGV4OiBkLmlzSm9pbmVkID8gMSA6IDAsXG4gICAgZmllbGRzOiBbXSBhcyBhbnlbXVxuICB9O1xuXG4gIGNvbnN0IHNoYXBlZCA9IHtcbiAgICBvcmFjbGU6ICAgYWRkcmVzc1RvQnl0ZXMoZC5vcmFjbGUpLFxuICAgIHdhZ2VyOiAgICBkLndhZ2VyLFxuICAgIHBsYXllcl8xOiBhZGRyZXNzVG9CeXRlcyhkLnBsYXllcl8xKSxcbiAgICBwbGF5ZXJfMjogYWRkcmVzc1RvQnl0ZXMoZC5wbGF5ZXJfMiksXG4gICAgZGVhZGxpbmU6IGQuZGVhZGxpbmUsXG4gICAgaXNKb2luZWQ6IGJvb2xDb25zdHIsXG4gIH0gYXMgYW55O1xuXG4gIC8vIDMpIFNlcmlhbGl6emEgY2lhc2N1biBjYW1wbyBzaW5nb2xhcm1lbnRlXG4gIGNvbnNvbGUuZ3JvdXAoJ/CflI0gRGVidWcgRGF0YS50byBjYW1wbyBwZXIgY2FtcG8nKTtcbiAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2hhcGVkKSkge1xuICAgIHRyeSB7XG4gICAgICAvLyBTY2hlbWEgbWluaW1hbCBwZXIgcXVlc3RvIHNvbG8gY2FtcG86XG4gICAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHRpdGxlOiBrZXksXG4gICAgICAgIGRhdGFUeXBlOlxuICAgICAgICAgIGtleSA9PT0gJ29yYWNsZScgfHwga2V5LnN0YXJ0c1dpdGgoJ3BsYXllcl8nKVxuICAgICAgICAgICAgPyAnYnl0ZXMnXG4gICAgICAgICAgICA6IGtleSA9PT0gJ3dhZ2VyJyB8fCBrZXkgPT09ICdkZWFkbGluZSdcbiAgICAgICAgICAgID8gJ2ludGVnZXInXG4gICAgICAgICAgICA6ICdjb25zdHJ1Y3RvcicsIC8vIHBlciBpc0pvaW5lZFxuICAgICAgfTtcbiAgICAgIGNvbnNvbGUubG9nKGAg4oaSIHRlc3Qgc2VyaWFsaXp6YXppb25lICR7a2V5fTpgLCB2YWx1ZSk7XG4gICAgICBEYXRhLnRvKHZhbHVlIGFzIGFueSwgc2NoZW1hIGFzIGFueSk7XG4gICAgICBjb25zb2xlLmxvZyhgICAg4pyU77iPICAke2tleX0gT0tgKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYCAgIOKdjCAgZXJyb3JlIHN1ICR7a2V5fTpgLCBlcnIpO1xuICAgIH1cbiAgfVxuICBjb25zb2xlLmdyb3VwRW5kKCk7XG5cbiAgLy8gNCkgUHJvdmEgaW5maW5lIGlsIHZlcm8gZGF0dW1cbiAgcmV0dXJuIERhdGEudG8oc2hhcGVkLCBCZXRCZXRTcGVuZC5kYXR1bSk7XG59XG5cbi8qKiBzZXJpYWxpenphIGlsIHR1byByZWRlZW1lciAoSm9pbiwgV2luLCBUaW1lb3V0KSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVJlZGVlbWVyKHI6IEJldFJlZGVlbWVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIERhdGEudG8ociwgQmV0QmV0U3BlbmQucmVkZWVtZXIpO1xufVxuXG4vKipcbiAqIEluaXppYWxpenphIEx1Y2lkIGUgd2FsbGV0IChzb2xvIGJyb3dzZXIpLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdEx1Y2lkKCk6IFByb21pc2U8THVjaWQ+IHtcbiAgaWYgKCFsdWNpZEluc3RhbmNlKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgQmxvY2tmcm9zdChCTE9DS0ZST1NUX1VSTCwgQkxPQ0tGUk9TVF9LRVkpO1xuICAgIGx1Y2lkSW5zdGFuY2UgPSBhd2FpdCBMdWNpZC5uZXcocHJvdmlkZXIsICdQcmV2aWV3Jyk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jYXJkYW5vKSB7XG4gICAgICAvLyBUcm92YSBpbCB3YWxsZXQgTGFjZSBvIE5hbWkgY29tcGF0aWJpbGVcbiAgICAgIGNvbnN0IHdhbGxldCA9IHdpbmRvdy5jYXJkYW5vLmxhY2UgfHwgd2luZG93LmNhcmRhbm8ubmFtaSB8fCBPYmplY3QudmFsdWVzKHdpbmRvdy5jYXJkYW5vKS5maW5kKCh3OiBhbnkpID0+IHcubmFtZSA9PT0gJ05hbWknIHx8IHcubmFtZSA9PT0gJ0xhY2UnKTtcbiAgICAgIFxuICAgICAgaWYgKCF3YWxsZXQpIHRocm93IG5ldyBFcnJvcignV2FsbGV0IGNvbXBhdGliaWxlIG5vbiB0cm92YXRvJyk7XG5cbiAgICAgIGNvbnN0IGFwaSA9IGF3YWl0IHdhbGxldC5lbmFibGUoKTtcblxuICAgICAgdmFsaWRhdG9yQWRkcmVzcyA9IGx1Y2lkSW5zdGFuY2UudXRpbHMudmFsaWRhdG9yVG9BZGRyZXNzKFxuICAgICAgICB2YWxpZGF0b3JTY3JpcHQsXG4gICAgICApO1xuICAgICAgbHVjaWRJbnN0YW5jZS5zZWxlY3RXYWxsZXQoYXBpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGx1Y2lkSW5zdGFuY2U7XG59XG5cbi8qKlxuICogUmVjdXBlcmEgdHV0dGkgZ2xpIFVUeE8gZGFsIHR1byBzY3JpcHQgYWRkcmVzcy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFNjcmlwdFV0eG9zKCkge1xuICBjb25zdCBsdWNpZCA9IGF3YWl0IGluaXRMdWNpZCgpO1xuICByZXR1cm4gbHVjaWQudXR4b3NBdCh2YWxpZGF0b3JBZGRyZXNzKTtcbn1cblxuY29uc3QgTGlzdGluZyA9IERhdGEuT2JqZWN0KHtcbiAgb3duZXI6IERhdGEuQnl0ZXMoKSxcbiAgYW1vdW50OiBEYXRhLkludGVnZXIoKSxcbiAgcHJpdmF0ZTogRGF0YS5Cb29sZWFuKCksXG59KTtcbnR5cGUgTGlzdGluZyA9IHR5cGVvZiBMaXN0aW5nO1xuXG4vKipcbiAqIENvc3RydWlzY2UgZSBpbnZpYSB1bmEgdHJhbnNhemlvbmUgY2hlIHNwZW5kZS9hZ2dpb3JuYSBsJ1VUeE8gc3VsbG8gc2NyaXB0LlxuICovXG5hc3luYyBmdW5jdGlvbiBidWlsZEFuZFN1Ym1pdChcbiAgZGF0dW06IEJldERhdHVtLFxuICByZWRlZW1lcjogQmV0UmVkZWVtZXJcbikge1xuICBjb25zdCBsdWNpZCA9IGF3YWl0IGluaXRMdWNpZCgpO1xuICBjb25zdCB1dHhvcyA9IGF3YWl0IGx1Y2lkLnV0eG9zQXQodmFsaWRhdG9yQWRkcmVzcyk7XG4gIGNvbnN0IHV0eG8gPSB1dHhvcy5maW5kKHUgPT4ge1xuICAgIGNvbnN0IGQgPSB1LmRhdHVtIGFzIEJldERhdHVtIHwgbnVsbDtcbiAgICByZXR1cm4gZCAmJiBkLm9yYWNsZSA9PT0gZGF0dW0ub3JhY2xlICYmIGQuZGVhZGxpbmUgPT09IGRhdHVtLmRlYWRsaW5lO1xuICB9KTtcbiAgaWYgKCF1dHhvKSB0aHJvdyBuZXcgRXJyb3IoJ1VUeE8gZGVsbGEgc2NvbW1lc3NhIG5vbiB0cm92YXRvJyk7XG5cbiAgY29uc3QgbmV3RGF0dW0gPSBlbmNvZGVEYXR1bShkYXR1bSk7XG4gIGNvbnN0IHR4ID0gYXdhaXQgbHVjaWRcbiAgLm5ld1R4KClcbiAgLmF0dGFjaFNwZW5kaW5nVmFsaWRhdG9yKHZhbGlkYXRvclNjcmlwdClcbiAgLmNvbGxlY3RGcm9tKFt1dHhvXSwgZW5jb2RlUmVkZWVtZXIocmVkZWVtZXIpKVxuICAucGF5VG9Db250cmFjdChcbiAgICB2YWxpZGF0b3JBZGRyZXNzLFxuICAgIGVuY29kZURhdHVtKGRhdHVtKSxcbiAgICB7IGxvdmVsYWNlOiBkYXR1bS53YWdlciAqIDJuIH1cbiAgKVxuICAuY29tcGxldGUoKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQVpJT05JIFNVTCBWQUxJREFUT1IgQkVUXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKiBKb2luOiBjb25zdHJ1Y3RvciBpbmRleCAwICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gam9pbkJldChkOiBCZXREYXR1bSkge1xuICBjb25zdCByZWRlZW1lcjogQmV0UmVkZWVtZXIgPSB7IEpvaW46IHsgd2FnZXI6IGQud2FnZXIgfSB9O1xuICAvLyBidWlsZEFuZFN1Ym1pdCBvcmEgZGV2ZSBhY2NldHRhcmUgbGEgc3RyaW5nYSBzZXJpYWxpenphdGFcbiAgcmV0dXJuIGJ1aWxkQW5kU3VibWl0KHsgLi4uZCwgaXNKb2luZWQ6IHRydWUgfSwgcmVkZWVtZXIpO1xufVxuXG4vKiogV2luOiBjb25zdHJ1Y3RvciBpbmRleCAxICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2luQmV0KGQ6IEJldERhdHVtLCB3aW5uZXI6IHN0cmluZykge1xuICBjb25zdCByZWRlZW1lcjogQmV0UmVkZWVtZXIgPSB7IFdpbjogeyB3aW5uZXIgfSB9O1xuICByZXR1cm4gYnVpbGRBbmRTdWJtaXQoZCwgcmVkZWVtZXIpO1xufVxuXG4vKiogVGltZW91dDogY29uc3RydWN0b3IgaW5kZXggMiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRpbWVvdXRCZXQoZDogQmV0RGF0dW0pIHtcbiAgY29uc3QgcmVkZWVtZXI6IEJldFJlZGVlbWVyID0gXCJUaW1lb3V0XCI7XG4gIHJldHVybiBidWlsZEFuZFN1Ym1pdChkLCByZWRlZW1lcik7XG59XG5cbi8qKlxuICogRGVwbG95OiBjcmVhIHVuIFVUeE8gaW5pemlhbGUgcHJlc3NvIGxvIHNjcmlwdCBjb24gaWwgZGF0dW0gaW5pemlhbGUuXG4gKiBAcGFyYW0gZCBCZXREYXR1bSBpbml6aWFsZVxuICogQHBhcmFtIGluaXRpYWxBZGEgcXVhbnRpdMOgIGRpIGxvdmVsYWNlIGRhIGludmlhcmUgKGRlZmF1bHQgMiBBREEpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZXBsb3lCZXRDb250cmFjdChkOiBCZXREYXR1bSwgaW5pdGlhbEFkYSA9IDJfMDAwXzAwMG4pIHtcbiAgY29uc3QgbHVjaWQgPSBhd2FpdCBpbml0THVjaWQoKTtcbiAgY29uc29sZS5sb2coZCk7XG5cbiAgY29uc3QgdHggPSBhd2FpdCBsdWNpZFxuICAgIC5uZXdUeCgpXG4gICAgLmF0dGFjaFNwZW5kaW5nVmFsaWRhdG9yKHZhbGlkYXRvclNjcmlwdClcbiAgICAucGF5VG9Db250cmFjdChcbiAgICAgIHZhbGlkYXRvckFkZHJlc3MsXG4gICAgICBlbmNvZGVEYXR1bShkKSxcbiAgICAgIHsgbG92ZWxhY2U6IGluaXRpYWxBZGEgfVxuICAgIClcbiAgICAuY29tcGxldGUoKTtcblxuICBjb25zdCBzaWduZWQgPSBhd2FpdCB0eC5zaWduKCkuY29tcGxldGUoKTtcbiAgcmV0dXJuIHNpZ25lZC5zdWJtaXQoKTtcbn1cblxuXG4iXSwibmFtZXMiOlsiTHVjaWQiLCJCbG9ja2Zyb3N0IiwiRGF0YSIsImZyb21IZXgiLCJiZXRTY3JpcHRKc29uIiwiQmV0QmV0U3BlbmQiLCJsdWNpZEluc3RhbmNlIiwidmFsaWRhdG9yQWRkcmVzcyIsIkJMT0NLRlJPU1RfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0JMT0NLRlJPU1RfTkVUV09SS19VUkwiLCJCTE9DS0ZST1NUX0tFWSIsIk5FWFRfUFVCTElDX0JMT0NLRlJPU1RfS0VZIiwiU0NSSVBUX0FERFJFU1MiLCJORVhUX1BVQkxJQ19TQ1JJUFRfQUREUkVTUyIsInZhbGlkYXRvclNjcmlwdCIsInR5cGUiLCJzY3JpcHQiLCJjYm9ySGV4IiwiYWRkcmVzc1RvQnl0ZXMiLCJhZGRyZXNzIiwiZGV0YWlscyIsInV0aWxzIiwiZ2V0QWRkcmVzc0RldGFpbHMiLCJoYXNoSGV4IiwicGF5bWVudENyZWRlbnRpYWwiLCJoYXNoIiwiRXJyb3IiLCJjbGVhbiIsInN0YXJ0c1dpdGgiLCJzbGljZSIsImVuY29kZURhdHVtIiwiZCIsImJvb2xDb25zdHIiLCJpbmRleCIsImlzSm9pbmVkIiwiZmllbGRzIiwic2hhcGVkIiwib3JhY2xlIiwid2FnZXIiLCJwbGF5ZXJfMSIsInBsYXllcl8yIiwiZGVhZGxpbmUiLCJjb25zb2xlIiwiZ3JvdXAiLCJrZXkiLCJ2YWx1ZSIsIk9iamVjdCIsImVudHJpZXMiLCJzY2hlbWEiLCJ0aXRsZSIsImRhdGFUeXBlIiwibG9nIiwidG8iLCJlcnIiLCJlcnJvciIsImdyb3VwRW5kIiwiZGF0dW0iLCJlbmNvZGVSZWRlZW1lciIsInIiLCJyZWRlZW1lciIsImluaXRMdWNpZCIsInByb3ZpZGVyIiwibmV3Iiwid2luZG93IiwiY2FyZGFubyIsIndhbGxldCIsImxhY2UiLCJuYW1pIiwidmFsdWVzIiwiZmluZCIsInciLCJuYW1lIiwiYXBpIiwiZW5hYmxlIiwidmFsaWRhdG9yVG9BZGRyZXNzIiwic2VsZWN0V2FsbGV0IiwiZ2V0U2NyaXB0VXR4b3MiLCJsdWNpZCIsInV0eG9zQXQiLCJMaXN0aW5nIiwib3duZXIiLCJCeXRlcyIsImFtb3VudCIsIkludGVnZXIiLCJwcml2YXRlIiwiQm9vbGVhbiIsImJ1aWxkQW5kU3VibWl0IiwidXR4b3MiLCJ1dHhvIiwidSIsIm5ld0RhdHVtIiwidHgiLCJuZXdUeCIsImF0dGFjaFNwZW5kaW5nVmFsaWRhdG9yIiwiY29sbGVjdEZyb20iLCJwYXlUb0NvbnRyYWN0IiwibG92ZWxhY2UiLCJjb21wbGV0ZSIsImpvaW5CZXQiLCJKb2luIiwid2luQmV0Iiwid2lubmVyIiwiV2luIiwidGltZW91dEJldCIsImRlcGxveUJldENvbnRyYWN0IiwiaW5pdGlhbEFkYSIsInNpZ25lZCIsInNpZ24iLCJzdWJtaXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-browser)/./src/utils/lucid.ts\n"));

/***/ })

});